`ViewData` и `ViewBag` — это механизмы для передачи небольших объемов данных из Контроллера в Представление (View). Они используются для данных, которые не являются частью основной модели (например, заголовок страницы, имя пользователя, текущая дата).

Основным способом передачи данных служит [[ViewModel (Модель Представления) в ASP.NET Core|ViewModel]]


## Сравнение
**ViewData**
  Представляет собой словарь типа `Dictionary<string, object>`.
  Для доступа к данным используются строковые ключи: `ViewData["Key"]`.
  Требует *явного приведения типов* при чтении (если объект не `string`).
  
**ViewBag**
  Представляет собой динамическую обертку (`dynamic`) над `ViewData`.
  Позволяет обращаться к данным как к свойствам объекта: `ViewBag.Key`.
  Не требует приведения типов (разрешается во время выполнения), но чуть медленнее.

## Взаимосвязь

*Важно понимать:* `ViewData` и `ViewBag` ссылаются на **одно и то же хранилище данных**.
Это просто разный синтаксис для одной сущности.

```csharp
// В контроллере:
ViewData["Title"] = "Главная";

// Во View это можно прочитать так:
<h1>@ViewBag.Title</h1> 
// Это сработает, так как они делят память.
````

## Недостатки использования

Несмотря на удобство, злоупотреблять ими не стоит.

**Отсутствие строгой типизации**

Ошибки в названиях свойств или типов обнаруживаются только во время _запуска_ приложения (Runtime Error), а не при компиляции.

**Нет IntelliSense**

Visual Studio не подскажет названия свойств и методы объектов, хранящихся внутри.

**"Магические строки"**

В `ViewData` приходится использовать строковые ключи, что усложняет рефакторинг (переименование).

## Примеры кода

### Controller

C#

```
public IActionResult Index()
{
    // Синтаксис словаря
    ViewData["Message"] = "Привет из ViewData";
    ViewData["Count"] = 42;

    // Динамический синтаксис
    ViewBag.ServerTime = DateTime.Now;
    
    return View();
}
```

### View

Razor CSHTML

```
<p>Сообщение: @ViewData["Message"]</p>
<p>Число: @( (int)ViewData["Count"] * 2 )</p>

<p>Время: @ViewBag.ServerTime</p>
```

```

---

Создавай файл, и как будешь готов — перейдем к **ViewModel** (основному и правильному способу передачи данных).
```