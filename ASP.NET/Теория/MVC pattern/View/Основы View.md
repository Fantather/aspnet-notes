View (Представление) — это компонент, отвечающий за формирование пользовательского интерфейса (UI). В ASP.NET Core по умолчанию используется движок представлений **Razor**, который позволяет внедрять C# код прямо в HTML-разметку. Файлы представлений имеют расширение `.cshtml`.


## Передача данных в View
Контроллер готовит данные и передает их представлению. Существует три основных механизма.

**1. Строго типизированная модель (ViewModel)**
  *Самый рекомендуемый и надежный способ*.
  Ты создаешь специальный класс (Model/ViewModel), заполняешь его данными и передаешь в метод `View(model)`.
  В самом представлении ты указываешь тип модели через директиву `@model`, и данные становятся доступны через свойство `@Model`.

**2. ViewData**
  Словарь типа `Dictionary<string, object>`.
  Ключи — строки, значения — объекты.
  Требует *явного приведения типов* при получении данных (если это не строка).
  Работает чуть быстрее ViewBag, но менее удобно.

**3. ViewBag**
  Динамическая обертка (`dynamic`) над `ViewData`.
  Позволяет писать свойства через точку: `ViewBag.Title = "Hello"`.
  *Минусы:* Нет проверки ошибок при компиляции (узнаешь об ошибке только при запуске), не работает автодополнение (IntelliSense).


## Структура и служебные файлы
В папке `Views` (или `Pages` в Razor Pages) есть специальные файлы, которые влияют на все остальные.

*_Layout.cshtml (Макет)*
  Аналог "Мастер-страницы". Содержит общий каркас HTML (теги `<html>`, `<head>`, меню, подвал).
  В том месте, где должен подставляться контент конкретной страницы, вызывается метод `@RenderBody()`.

*_ViewStart.cshtml*
  Этот файл выполняется *перед* началом рендеринга любого View.
  Обычно используется для того, чтобы задать Layout по умолчанию для всех файлов сразу (`Layout = "_Layout";`), чтобы не писать это в каждом файле.

*_ViewImports.cshtml*
  Используется для глобального подключения пространств имен (`using`) и Таг-хелперов (`addTagHelper`).
  Всё, что подключено здесь, будет доступно во всех `.cshtml` файлах папки.


## Основы синтаксиса Razor
**Вывод переменных (@)**
  Используй символ `@` для переключения из HTML в C#.
  Пример: `<span>Привет, @Model.UserName</span>`.

**Блоки кода (@{ ... })**
  Используются для выполнения логики, объявления переменных или сложных вычислений.
  Пример:
```cs
  @{
      var status = Model.IsActive ? "Активен" : "Заблокирован";
  }
```

**Управляющие конструкции**
Razor поддерживает циклы и условия C# внутри разметки
```CS
@if (Model.Items.Any())
{
    <ul>
        @foreach (var item in Model.Items)
        {
            <li>@item.Name</li>
        }
    </ul>
}
```

**Tag Helpers (Таг-хелперы)**
Это "умные" HTML-атрибуты от Microsoft (начинаются с `asp-`), которые помогают генерировать ссылки, формы и валидацию.

_Пример:_ `<a asp-controller="Home" asp-action="Index">Домой</a>` — автоматически сгенерирует правильный `href`, даже если ты изменишь схему маршрутизации


## Пример связки
### Controller
``` C#
public IActionResult Details(int id)
{
    // 1. Получаем данные
    var product = _service.GetProduct(id);
    
    // 2. Передаем "легкие" данные через ViewBag
    ViewBag.PageTitle = $"Детали: {product.Name}";

    // 3. Передаем основную модель
    return View(product);
}
```

### View (Details.cshtml)
```CS
@model MyProject.Models.Product 
// ^ Директива указывает тип модели

<h1>@ViewBag.PageTitle</h1>

<div class="card">
    <h2>@Model.Name</h2>
    <p>Цена: @Model.Price.ToString("C")</p>
    
    @if(Model.StockCount == 0)
    {
        <p class="text-danger">Нет в наличии</p>
    }
</div>
```