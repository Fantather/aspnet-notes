*Middleware* — это программный компонент (класс или делегат), встроенный в конвейер обработки приложения для выполнения конкретной задачи с HTTP-запросом или ответом.

С технической точки зрения, Middleware — это функция, которая принимает `HttpContext` и возвращает `Task`. *Она выступает посредником между сервером (Kestrel) и целевым обработчиком (Controller/Endpoint)*


## Основные задачи компонента
Каждый Middleware имеет возможность выполнить действия в трех фазах:

**Предварительная обработка (Pre-processing)**
  Выполнение логики до передачи управления следующему компоненту. *Примеры: чтение заголовков авторизации, начало замера времени, парсинг тела запроса.*

**Управление потоком (Flow Control)**
  Принятие решения: вызвать следующий компонент (`next`) или прервать цепочку (short