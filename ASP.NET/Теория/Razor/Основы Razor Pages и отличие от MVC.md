**Razor Pages** — это альтернативная модель создания веб-приложений в ASP.NET Core, которая фокусируется на *страницах*, а не на контроллерах. Это не отдельная технология, а надстройка над MVC, упрощающая создание UI.


## Архитектура Razor Pages (MVVM)
Если MVC разделяет логику, данные и представление на три разных компонента, то Razor Pages объединяет логику обработки запроса и данные страницы в одном месте. Этот паттерн ближе к **MVVM** (Model-View-ViewModel).

**Структура файла**
  Страница состоит из двух связанных файлов:
  1. `PageName.cshtml` — HTML-разметка с использованием синтаксиса Razor (View).
  2. `PageName.cshtml.cs` — C# класс, наследуемый от `PageModel`. Здесь пишется логика (ViewModel + Controller).

## Класс PageModel
`PageModel` выполняет роль контроллера для *конкретной* страницы.

**Обработчики (Handlers)**
  Вместо *Action-методов* (как в MVC), здесь используются методы, соответствующие HTTP-глаголам.
  * `OnGet()` — запускается при GET-запросе (загрузка страницы).
  * `OnPost()` — запускается при POST-запросе (отправка формы).
  * `OnPostDelete()` — можно создавать именованные обработчики (форма с `asp-page-handler="Delete"`).

**Привязка данных (Model Binding)**
  В MVC данные приходят в аргументы метода. В Razor Pages используется свойство с атрибутом `[BindProperty]`.
  Это обеспечивает *двустороннюю связь*: данные из формы автоматически попадают в свойство, и наоборот.

### Пример PageModel
```csharp
public class RegisterModel : PageModel
{
    // Данные формы автоматически попадут сюда
    [BindProperty]
    public InputModel Input { get; set; }

    public void OnGet()
    {
        // Логика инициализации страницы
    }

    public IActionResult OnPost()
    {
        if (!ModelState.IsValid)
        {
            return Page(); // Возвращаем ту же страницу с ошибками
        }
        
        // Логика сохранения
        return RedirectToPage("Index");
    }
}
````

## Ключевые отличия от MVC

|**Характеристика**|**MVC (Model-View-Controller)**|**Razor Pages**|
|---|---|---|
|**Организация**|Группировка по типу файлов (папки Controllers, Views, Models).|Группировка по фичам (все файлы одной страницы лежат рядом).|
|**Маршрутизация**|Основана на контроллерах (`{controller}/{action}/{id}`).|Основана на файловой системе (путь к файлу в папке `Pages` = URL).|
|**Сложность**|Выше. Требует понимания взаимодействия трех компонентов.|Ниже. Идеально для простых страниц и CRUD-операций.|
|**Ответственность**|Контроллер может управлять множеством Views.|`PageModel` жестко привязана к одной View.|
|**Назначение**|Сложные приложения, REST API, переиспользование логики.|Простые сайты, админки, формы, лендинги.|

## Когда что выбирать?
**Выбирай Razor Pages, если:**
Твоё приложение — это набор страниц, каждая из которых имеет свою уникальную логику (например, форма регистрации, страница "О нас"). Это сокращает количество "прыжков" по проекту при разработке.

**Выбирай MVC, если:**
1. Ты пишешь REST API (обязательно)
2. Тебе нужна сложная логика маршрутизации
3. Одинаковые данные нужно отображать в совершенно разных Views