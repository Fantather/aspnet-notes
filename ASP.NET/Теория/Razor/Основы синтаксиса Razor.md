Синтаксис Razor интуитивен и позволяет плавно переключаться между разметкой и кодом. Основной принцип: всё, что начинается с `@`, трактуется как C#, пока не встретится HTML-тег или пробел (в определенных случаях).

## Работа с кодом
**Блок кода @{ ... }**
  Используется для выполнения C# кода, который не должен ничего выводить на страницу (объявление переменных, вычисления).
  Каждая строка внутри должна заканчиваться точкой с запятой `;`.

**Внутристрочное выражение (Implicit expression)**
  Используется для вывода значения переменной или свойства.
  Синтаксис: `@Model.Name`.
  Не требует круглых скобок.
  *Razor сам понимает, где заканчивается код, по пробелу или тегу*.

**Явное выражение (Explicit expression)**
  Используется, когда нужно выполнить вычисления или когда Razor не может сам определить конец кода.
  Синтаксис: `@(x + y)`.
  Обязательно наличие круглых скобок.

## Управляющие конструкции
Все управляющие конструкции C# (`if`, `switch`, `foreach`, `while`, `try-catch`) поддерживаются и начинаются с символа `@`.

**Условный оператор @if**
  Позволяет рендерить блоки HTML по условию.
```cs
  @if (Model.IsAdmin)
  {
      <button>Панель администратора</button>
  }
  else
  {
      <p>Привет, гость!</p>
  }
```

**Цикл @foreach**
Самый частый сценарий для генерации списков и таблиц.
```CS
<ul>
    @foreach (var item in Model.Products)
    {
        <li>@item.Name — @item.Price $</li>
    }
</ul>
```


## Нюансы и особенности
**Комментарии Razor** `@* ... *@`
Это серверные комментарии.
В отличие от HTML-комментариев, они _полностью удаляются_ на этапе рендеринга и не видны пользователю при просмотре исходного кода страницы (View Source)`

**Экранирование символа @**
Если нужно вывести символ `@` как текст (например, в Twitter-аккаунте), его нужно удвоить.
_Пример:_ `Никнейм: @@username` превратится в `Никнейм: @username`.

**Распознавание Email**
Razor достаточно умен, чтобы понять, что `support@mysite.com` — это email, а не переменная `mysite`. Экранировать собаку в почте не нужно.

**Текстовый контекст внутри блока кода (`<text> или @:`)**
Если внутри блока C# (`@{ ... }` или `@if`) нужно вывести простой текст без обертки в HTML-тег, используй тег `<text>...</text>` или префикс `@:`.
```CS
@if (true)
{
    @:Это просто текст без тегов
}
```