[[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤]]
[[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤2.canvas|–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤2]]
[[Entity FM/–£—Ä–æ–∫ 1 02.09.25 (–∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∑)/–†–∞–±–æ—Ç–∞ –≤ –∫–æ–¥–µ/–∫–æ–¥ —É—Ä–æ–∫–∞]]
![[Pasted image 20250902184139.png]]
![[Pasted image 20250902184222.png]]
–µ—Å–ª–∏ –∑–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞ - –º–æ–∂–µ—Ç –±—ã—Ç—å nullable
–µ—Å–ª–∏  =null! - —Ç–∏–ø –≥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å nullable

 [[DB SET#^dbset|DbSet (–∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤)]]
### 1. `?` –ø–æ—Å–ª–µ —Ç–∏–ø–∞

```c#
string? text;

```
- –æ–∑–Ω–∞—á–∞–µ—Ç **nullable —Ç–∏–ø** (–º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å `null`).
    
- EF, ReSharper –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –±—É–¥—É—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å, –µ—Å–ª–∏ —Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—à—å `null`.

###  2. –ë–µ–∑ `?`
```c#
string text;

```

- **not nullable** (–ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ `null`).
    
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è, –µ—Å–ª–∏ –ø—Ä–∏—Å–≤–æ–∏—Ç—å `null`

### 3. `= null!`
```c#
public string Name { get; set; } = null!;

```
- –≠—Ç–æ **null-forgiving operator** (`!` –ø–æ—Å–ª–µ –∑–Ω–∞—á–µ–Ω–∏—è).
    
- –û–Ω –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É: _¬´–Ø –∑–Ω–∞—é, —á—Ç–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –Ω–µ `null`, –ø–æ–≤–µ—Ä—å –º–Ω–µ¬ª_.
    
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç —á–∞—â–µ –≤—Å–µ–≥–æ –¥–ª—è –∞–≤—Ç–æ-—Å–≤–æ–π—Å—Ç–≤ –≤ –º–æ–¥–µ–ª—è—Ö EF Core, —á—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å –ª–∏—à–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã.
    

–ü–æ —Å—É—Ç–∏: `= null!;` ‚Äî —ç—Ç–æ –∑–∞–≥–ª—É—à–∫–∞, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ¬´–Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ¬ª, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å `null` –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ.



#–ø—Ä–∏–º–µ—Ä
```C#
public class Teacher
{
    public int Id { get; set; }

    // –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º –≤ –ë–î (nullable column)
    public string? MiddleName { get; set; }

    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ (not null –≤ –ë–î)
    public string Name { get; set; } = null!;
}

```

 –ò—Ç–æ–≥:

- `?` ‚Üí —Ä–∞–∑—Ä–µ—à—ë–Ω `null` (nullable).
    
- –ë–µ–∑ `?` ‚Üí –∑–∞–ø—Ä–µ—â—ë–Ω `null` (not nullable).
    
- `= null!` ‚Üí —É–±—Ä–∞—Ç—å –≤–æ—Ä—á–∞–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –µ—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.
___
–ß—Ç–æ –±—ã –ø–æ–ª—è —Å–æ–∑–¥–∞–ª–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º–∏ —Å –∞–≤—Ç–æ–≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏
–§–æ—Ä–µ–Ω –∫–µ–π, –ê–π–¥–∏ –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ –∑–∞ –ø–æ–ª—è 
___
–í C# —Å–∏—Ç—É–∞—Ü–∏—è —Å string –∏ null –Ω–µ–º–Ω–æ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–∞—è:

1. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `string` ‚Äî —ç—Ç–æ —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø.
   –ê –¥–ª—è —Å—Å—ã–ª–æ—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º C# –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ –¥–æ–ø—É—Å—Ç–∏–º–æ —Ö—Ä–∞–Ω–∏—Ç—å null (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—ä–µ–∫—Ç–∞).

2. Nullable reference types (string? –∏ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ null) –ø–æ—è–≤–∏–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Å C# 8.0.

   * –ï—Å–ª–∏ —É —Ç–µ–±—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã *nullable reference types*, —Ç–æ string –º–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å null, –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –±—É–¥–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è.
   * –ï—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç—å nullable –≤ .csproj –∏–ª–∏ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞:

```csharp
     
     <Nullable>enable</Nullable>
     
/// –∏–ª–∏

    
     #nullable enable
     
```

     —Ç–æ–≥–¥–∞ string –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å "–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ null", –∞ string? ‚Äî "–º–æ–∂–µ—Ç –±—ã—Ç—å null".

3. –ü–æ—á–µ–º—É —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Ç–∞–∫?

   * –†–∞–¥–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º. –î–æ C# 8.0 string –≤—Å–µ–≥–¥–∞ –º–æ–≥ –±—ã—Ç—å null, –∏ –µ—Å–ª–∏ –±—ã —ç—Ç–æ –≤–Ω–µ–∑–∞–ø–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏–ª–∏, —Ç–æ –º–∏–ª–ª–∏–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –±—ã –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è.
   * –ü–æ—ç—Ç–æ–º—É —Å—Ç—Ä–æ–≥–∞—è —Å–∏—Å—Ç–µ–º–∞ nullability —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —è–≤–Ω–æ–º –≤–∫–ª—é—á–µ–Ω–∏–∏.

---

üëâ –¢–æ –µ—Å—Ç—å —É —Ç–µ–±—è —Å–µ–π—á–∞—Å string –ø–æ–∑–≤–æ–ª—è–µ—Ç null, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –ª–∏–±–æ –Ω–µ –≤–∫–ª—é—á–µ–Ω `nullable`, –ª–∏–±–æ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ C# –¥–æ 8.0.

___

## 1. –ü—É–±–ª–∏—á–Ω—ã–µ –∞–≤—Ç–æ-—Å–≤–æ–π—Å—Ç–≤–∞

–ß—Ç–æ–±—ã EF Core —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ–ª–æ–Ω–∫–∏ –≤ –±–∞–∑–µ:
```C#
public class Teacher
{
    public int Id { get; set; }      // –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (PK)
    public string Name { get; set; } = null!;
}

```

- **`public`** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, EF —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.
    
- **–∞–≤—Ç–æ-—Å–≤–æ–π—Å—Ç–≤–∞** (`{ get; set; }`) ‚Äî EF —É–º–µ–µ—Ç –∏—Ö –º–∞–ø–ø–∏—Ç—å.
    

‚ö†Ô∏è –ï—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å `private` –∏–ª–∏ `protected` ‚Üí –ø–æ–ª–µ –≤ —Ç–∞–±–ª–∏—Ü–µ **–Ω–µ —Å–æ–∑–¥–∞—Å—Ç—Å—è**, –ø–æ–∫–∞ –Ω–µ —É–∫–∞–∂–µ—à—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `ModelBuilder`.

##  2. –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (PK)

EF Core **–ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é** —Å—á–∏—Ç–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `Id` –∏–ª–∏ `<–ò–º—è–ö–ª–∞—Å—Å–∞>Id` ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º.
```c#
public int Id { get; set; }         // PK
// –∏–ª–∏
public int TeacherId { get; set; }  // —Ç–æ–∂–µ PK

```

## 3. –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (FK)

–¢–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–ø–æ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏¬ª. –ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
public class Lecture
{
    public int Id { get; set; }

    // –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (FK)
    public int TeacherId { get; set; }

    // –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
    public Teacher Teacher { get; set; } = null!;
}

```

- `TeacherId` ‚Üí EF –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ FK –Ω–∞ —Ç–∞–±–ª–∏—Ü—É `Teachers`.
    
- `Teacher` ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è (—Å–≤—è–∑—å 1:N).
    

–ï—Å–ª–∏ –∏–º—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–æ–Ω–≤–µ–Ω—Ü–∏–µ–π, –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ä—É–∫–∞–º–∏:
```c#
modelBuilder.Entity<Lecture>()
    .HasOne(l => l.Teacher)
    .WithMany()
    .HasForeignKey(l => l.TeacherRef);

```

#—Ä–µ–∑—é–º–µ

- **PK**: `Id` –∏–ª–∏ `<–ò–º—è–ö–ª–∞—Å—Å–∞>Id`.
    
- **FK**: `<–ù–∞–≤–∏–≥–∞—Ü–∏—è>Id` + —Å–∞–º–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ.
    
- –ü–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `public` –∏ —Å `{ get; set; }`.
___

