[[Entity FM/Урок 5(заполнить название дз)/код урока]]
Класс `DbContext` реализовывает Idisposable. Это позволяет корректно освобождать ресурсы после использования.

# Варианты использования

1. **Через `using`**
```c#
using (TestUserDbContext db = new TestUserDbContext())
{
    // Здесь можно работать с базой данных
    var users = db.Users.ToList();
    // После выхода из блока using метод Dispose() вызывается автоматически
}

```
Преимущества:

- Автоматическое освобождение ресурсов.
    
- Минимизирует риск утечек памяти или незакрытых соединений.
    

2. **Явный вызов `Dispose()`**
```c#
TestUserDbContext db = null;
try
{
    db = new TestUserDbContext();
    // Работа с базой данных
    var users = db.Users.ToList();
}
finally
{
    if (db != null)
        db.Dispose(); // Освобождение ресурсов вручную
}

```
Преимущества:

- Полный контроль над временем жизни объекта.
    
- Можно комбинировать с логикой обработки исключений.

#резюме 
- Для кратких операций с базой данных лучше использовать `using`.
    
- Если объект должен жить дольше блока кода или управляется несколькими методами, лучше явный вызов `Dispose()`.
    
- Всегда освобождайте ресурсы, чтобы избежать блокировок и утечек соединений с базой данных.
_____
