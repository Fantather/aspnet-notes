## **EF.Functions.Like**

## 1. Определение

- Метод `EF.Functions.Like()` используется для написания SQL-подобных условий **`LIKE`** в LINQ-запросах.
    
- Позволяет искать строки по шаблону (с подстановочными символами).


## 2. Синтаксис
```c#
EF.Functions.Like(string matchExpression, string pattern)
```
- **matchExpression** — строка, по которой выполняется поиск.
    
- **pattern** — шаблон, как в SQL (`%`, `_`).

## 3. Примеры использования

#### Найти товары, название которых начинается с `"Sam"`:
```c#
var q = context.Products
               .Where(p => EF.Functions.Like(p.Name, "Sam%"))
               .ToList();

```
SQL: `WHERE Name LIKE 'Sam%'`
![[Pasted image 20250911202300.png]]


## **Подстановочные символы в EF.Functions.Like**
![[Pasted image 20250911202608.png]]

| Символ            | Значение                                        | Пример      | Совпадения                                 |
| ----------------- | ----------------------------------------------- | ----------- | ------------------------------------------ |
| `%`               | Любая последовательность символов (0 или более) | `"A%"`      | `A`, `Apple`, `ABC`                        |
| `_`               | Ровно один любой символ                         | `"A_"`      | `Ax`, `Ab`, но не `Apple`                  |
| `[ ]`             | Один символ из указанного диапазона или набора  | `"A[BC]%"`  | `AB`, `AC`, `ABBA`, но не `AD`             |
| `[^ ]` или `[! ]` | Один символ, **не входящий** в указанный набор  | `"A[^BC]%"` | `AD`, `AX`, но не `AB` или `AC`            |
| `[]-[]`           | Диапазон символов                               | `"[A-Z]%"`  | Все строки, начинающиеся с латинской буквы |
|                   |                                                 |             |                                            |
Чем то похоже на regex, но более ограниченный

```c#
// % — любое количество символов
context.Products.Where(p => EF.Functions.Like(p.Name, "%Phone%"));

// _ — один символ
context.Products.Where(p => EF.Functions.Like(p.Name, "A__"));

// [ ] — набор символов
context.Products.Where(p => EF.Functions.Like(p.Name, "[CH]at%"));
// Найдет Chat и Hat, но не Bat

// [^ ] — исключение
context.Products.Where(p => EF.Functions.Like(p.Name, "A[^0-9]%"));
// Начинается с A, и второй символ не цифра

```
