предпочтительнее больше компонентов [[Свойства]] и меньше состояний

для работы с внутренними данными компонента

приложения без единого состояния невозможно представить

```
this.state
```
через set state  - присваиваем
обновление выполняется через механизм очередей
обновление через this.state может привести к неожиданному падению
___
![[Pasted image 20251210190417.png]]
___
конструктор единственное место где можно установить state напрямую
![[Pasted image 20251210190649.png]]


```jsx
import React from "react";

function App() {

  return (

    <div>

      {" "}

      <h1>Firt component</h1>

      <TextAreaCounter />

    </div>

  );

}
 

class TextAreaCounter extends React.Component {

  constructor(){

    super();

    this.onTextChanges = this.onTextChanges.bind(this);

    this.state = {};

  }

onTextChanges(event){

  this.setState({

    text: event.target.value,

  });

}

  

  render() {

    const text = this.state.text||this.props.text ;

    return (

      <div>

        <h3>{text.length}</h3>

        <textarea defaultValue={text}

         onChange={(event) => {

          this.onTextChanges(event)

        }}

        ></textarea>

      </div>

    );

  }

}


TextAreaCounter.defaultProps = { text: "Count me!" };
 

export default App;
```
![[Pasted image 20251210191522.png]]
______
как выглядит в функционадльном 
![[Pasted image 20251210191611.png]]
для них надо так же записывать use state

```jsx
function TextAreaCounter({ text = "Count me!" }) {

  const [value, setValue] = useState(text);

  function onTextChanged(event) {

    setValue(event.target.value);

  }

  return (

    <div>

      <h3>{value.length}</h3>

      <textarea value={value} onChange={onTextChanged} />

    </div>

  );

}
```

