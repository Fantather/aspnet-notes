–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ –ø–æ–¥—Ä–æ–±–Ω–æ. –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ React.

–í–µ—Å—å —Å–µ–∫—Ä–µ—Ç –∫—Ä–æ–µ—Ç—Å—è –≤ —Ç–æ–º, **–∫–æ–≥–¥–∞** JavaScript –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥.

### 1. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±—ã—á–Ω—ã–π JavaScript (–±–µ–∑ React)

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `calculateExpensiveValue()`, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ–Ω—å –¥–æ–ª–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ–µ —á–∏—Å–ª–æ –∏–ª–∏ –ª–µ–∑–µ—Ç –≤ `localStorage`).

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç–æ—Ç –≤—ã–∑–æ–≤:

JavaScript

```
// –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü–µ—Ä–µ–¥–∞—á–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
myFunction( calculateExpensiveValue() );
```

–í JavaScript –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è **–¥–æ** —Ç–æ–≥–æ, –∫–∞–∫ —Å–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è `myFunction` –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

1. –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è `calculateExpensiveValue()`.
    
2. –ú—ã –±—É–¥–µ–º –∂–¥–∞—Ç—å, –ø–æ–∫–∞ –æ–Ω–∞ –∑–∞–∫–æ–Ω—á–∏—Ç.
    
3. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞—Å—Ç—Å—è –≤–Ω—É—Ç—Ä—å `myFunction`.
    

**–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´–ñ–∞–¥–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ¬ª (Eager Evaluation).**

---

### 2. –ü—Ä–∏–º–µ–Ω–∏–º —ç—Ç–æ –∫ React –∏ `useState`

–í React –≤–∞—à –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è. –û–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è (—Ä–µ–Ω–¥–µ—Ä).

#### –°–∏—Ç—É–∞—Ü–∏—è –ê: –ú—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª—è–º–±–¥—É (—Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é)

JavaScript

```
const [value, setValue] = useState( localStorage.getItem('big_data') );
```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ **–∫–∞–∂–¥–æ–º** —Ä–µ–Ω–¥–µ—Ä–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —ç–∫—Ä–∞–Ω–∞):

1. JavaScript –≤–∏–¥–∏—Ç –≤—ã–∑–æ–≤ `localStorage.getItem(...)`.
    
2. –û–Ω **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ** –ª–µ–∑–µ—Ç –≤ –ø–∞–º—è—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞, —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø–∞—Ä—Å–∏—Ç –∏—Ö. –≠—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ.
    
3. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `useState`.
    
4. React —Å–º–æ—Ç—Ä–∏—Ç –≤–Ω—É—Ç—Ä—å `useState`:
    
    - _–ü–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä:_ "–û, —Å–ø–∞—Å–∏–±–æ, —è –≤–æ–∑—å–º—É —ç—Ç–æ –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ".
        
    - _–í—Ç–æ—Ä–æ–π, —Ç—Ä–µ—Ç–∏–π, —Å–æ—Ç—ã–π —Ä–µ–Ω–¥–µ—Ä:_ "–£ –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –¢–æ, —á—Ç–æ —Ç—ã –º–Ω–µ —Å–µ–π—á–∞—Å –ø–µ—Ä–µ–¥–∞–ª, –º–Ω–µ –Ω–µ –Ω—É–∂–Ω–æ. –Ø —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É—é".
        

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ —Ç—è–∂–µ–ª—É—é —Ä–∞–±–æ—Ç—É –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∞ React –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –º—É—Å–æ—Ä–∫—É –≤ 99% —Å–ª—É—á–∞–µ–≤.

#### –°–∏—Ç—É–∞—Ü–∏—è –ë: –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –õ—è–º–±–¥—É (–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)

JavaScript

```
const [value, setValue] = useState( () => localStorage.getItem('big_data') );
```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–¥–µ—Å—å:

1. JavaScript –≤–∏–¥–∏—Ç `() => ...`. –≠—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–Ω–∏–º–∞–µ—Ç 0.00001 –º—Å. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ "—Ä–µ—Ü–µ–ø—Ç", –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.
    
3. –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `useState`.
    

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç React:

- _–ü–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä:_ "–ú–Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ú–Ω–µ –¥–∞–ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é. –Ø **–∑–∞–ø—É—â—É –µ—ë**, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ". (–¢—è–∂–µ–ª–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 1 —Ä–∞–∑).
    
- _–°–ª–µ–¥—É—é—â–∏–µ —Ä–µ–Ω–¥–µ—Ä—ã:_ "–£ –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ú–Ω–µ —Å–Ω–æ–≤–∞ –¥–∞–ª–∏ —ç—Ç—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é? –ú–Ω–µ –≤—Å—ë —Ä–∞–≤–Ω–æ, —è –¥–∞–∂–µ **–Ω–µ –±—É–¥—É –µ—ë –∑–∞–ø—É—Å–∫–∞—Ç—å**".
    

**–ò—Ç–æ–≥:** –ú—ã —Å—ç–∫–æ–Ω–æ–º–∏–ª–∏ –∫—É—á—É —Ä–µ—Å—É—Ä—Å–æ–≤, –æ—Ç–ª–æ–∂–∏–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –æ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω.

---

### –ê–Ω–∞–ª–æ–≥–∏—è —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –ø–∏—Ü—Ü—ã üçï

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ `useState` ‚Äî —ç—Ç–æ –≤–∞—à –¥—Ä—É–≥, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –∏–¥–µ—Ç–µ –≤ –≥–æ—Å—Ç–∏.

1. **–ë–µ–∑ –ª—è–º–±–¥—ã:** –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –∏–¥–µ—Ç–µ –∫ –Ω–µ–º—É (–∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä), –≤—ã –ø–æ–∫—É–ø–∞–µ—Ç–µ –æ–≥—Ä–æ–º–Ω—É—é –ø–∏—Ü—Ü—É –ø–æ –¥–æ—Ä–æ–≥–µ.
    
    - –í –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –¥—Ä—É–≥ –≥–æ–≤–æ—Ä–∏—Ç: "–û, –∫—Ä—É—Ç–æ, —è –≥–æ–ª–æ–¥–µ–Ω!" (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è).
        
    - –í–æ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –æ–Ω –≥–æ–≤–æ—Ä–∏—Ç: "–Ø —É–∂–µ —Å—ã—Ç —Å –ø—Ä–æ—à–ª–æ–≥–æ —Ä–∞–∑–∞. –ó–∞—á–µ–º —Ç—ã —Å–Ω–æ–≤–∞ –ø–æ—Ç—Ä–∞—Ç–∏–ª –¥–µ–Ω—å–≥–∏ –∏ –ø—Ä–∏–Ω–µ—Å –ø–∏—Ü—Ü—É? –í—ã–∫–∏–Ω—å –µ—ë".
        
2. **–° –ª—è–º–±–¥–æ–π:** –í—ã –¥–∞–µ—Ç–µ –¥—Ä—É–≥—É **–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–∏—Ü—Ü–µ—Ä–∏–∏** (—Ñ—É–Ω–∫—Ü–∏—é).
    
    - –í –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –¥—Ä—É–≥ –∑–≤–æ–Ω–∏—Ç –∏ –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∏—Ü—Ü—É.
        
    - –í–æ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ —É –Ω–µ–≥–æ —É–∂–µ –µ—Å—Ç—å –µ–¥–∞, –∏ –æ–Ω –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–≤–æ–Ω–∏—Ç –ø–æ —ç—Ç–æ–º—É –Ω–æ–º–µ—Ä—É.
        

---

### –ê –∫–∞–∫ –Ω–∞—Å—á–µ—Ç `useEffect`?

–° `useEffect` —Å–∏—Ç—É–∞—Ü–∏—è –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–∞—è, –Ω–æ –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ—Ö–æ–∂. `useEffect` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è "—ç—Ñ—Ñ–µ–∫—Ç–æ–≤" ‚Äî –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–∑–æ–π—Ç–∏ **–ø–æ—Å–ª–µ** —Ç–æ–≥–æ, –∫–∞–∫ React –Ω–∞—Ä–∏—Å—É–µ—Ç –≤—Å—ë –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

–ï—Å–ª–∏ –≤—ã –Ω–∞–ø–∏—à–µ—Ç–µ:

JavaScript

```
useEffect( localStorage.setItem(...) ); // –û–®–ò–ë–ö–ê!
```

–í—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `setItem` –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è (—Ä–µ–Ω–¥–µ—Ä–∞). –≠—Ç–æ –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω –∏ –Ω–∞—Ä—É—à–∏—Ç –ª–æ–≥–∏–∫—É React.

–ü–µ—Ä–µ–¥–∞–≤–∞—è –ª—è–º–±–¥—É:

JavaScript

```
useEffect( () => localStorage.setItem(...) );
```

–í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ: "React, –≤–æ—Ç —Ç–µ–±–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏ –µ—ë, –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—à—å —Ä–∏—Å–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å".

---

### –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä `0` –∏–ª–∏ `false`.

JavaScript

```
// –í–∞—Ä–∏–∞–Ω—Ç 1
const [count, setCount] = useState(0);

// –í–∞—Ä–∏–∞–Ω—Ç 2
const [count, setCount] = useState(() => 0);
```

–ö–∞–∫ –≤—ã –¥—É–º–∞–µ—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Å–º—ã—Å–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 2** —Å –ª—è–º–±–¥–æ–π? –î–∞—Å—Ç –ª–∏ —ç—Ç–æ –Ω–∞–º –∫–∞–∫–æ–π-—Ç–æ –≤—ã–∏–≥—Ä—ã—à?