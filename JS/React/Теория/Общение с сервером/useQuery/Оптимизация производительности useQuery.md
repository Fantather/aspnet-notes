### Управление ререндерами
TanStack Query агрессивно вызывает ререндеры для поддержания актуальности UI. Для оптимизации используй следующие подходы:

**Tracked Properties (Отслеживаемые свойства)**
  Начиная с v4/v5, хук автоматически отслеживает, какие поля из возвращаемого объекта (например, `data`, `isLoading`) ты деструктурируешь
  Если ты не используешь `isFetching`, компонент *не будет* перерендериваться при фоновом обновлении

**Стабильность функции select**
  Если функция `select` выполняет тяжелые вычисления или возвращает новый объект/массив, оберни её в `useCallback`, либо определи её вне компонента, чтобы сохранить ссылочную целостность и избежать лишних вычислений


### Настройка staleTime vs gcTime
Важно различать эти два понятия для оптимизации сетевого трафика и памяти.

**staleTime: Infinity**
  Данные никогда не устаревают. Запрос выполняется один раз, и далее используется кэш. Полезно для статических данных (списки стран, конфигурации).

**gcTime: 0**
  Отключает кэширование в памяти. Данные удаляются сразу после размонтирования компонента
  Полезно для данных, которые занимают много памяти и редко нужны повторно.


### Отключение автоматических обновлений
По умолчанию Query обновляет данные при фокусе окна (`refetchOnWindowFocus`), переподключении сети (`refetchOnReconnect`) и повторном монтировании (`refetchOnMount`)

Если данные меняются редко, это создает лишнюю нагрузку
```jsx
useQuery({
	queryKey: ['static-data'],
	queryFn: fetchStatic,
	staleTime: Infinity,
	refetchOnWindowFocus: false, // Не обновлять при переключении вкладок
	refetchOnMount: false, // Не обновлять при повторном показе компонента
});
```