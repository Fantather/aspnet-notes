`Add-Migration`
`Intial Update-Database`

```C#
using CarApi.Data;
using CarApi.Models;
using Microsoft.EntityFrameworkCore;

var builder = WebApplication.CreateBuilder(args);

var connectionString = builder.Configuration.GetConnectionString("DefaultConnection") ?? "Data Source=cars.db";

builder.Services.AddDbContext<ApplicationContext>(options =>
options.UseSqlite(connectionString));
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();
builder.Services.AddCors(options => options.AddPolicy("corspolicy", build =>
{
    build.WithOrigins("*").AllowAnyMethod().AllowAnyHeader();
}));

var app = builder.Build();

if (app.Environment.IsDevelopment())
{
    app.UseDeveloperExceptionPage();
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseCors("corspolicy");
app.UseHttpsRedirection();

// CRUD endpoints

app.MapGet("/api/cars", async (ApplicationContext db) =>
await db.Cars.ToListAsync())
.WithName("GetAllCars")
.WithTags("Cars");
app.MapGet("/api/cars/{id:int}", async (int id, ApplicationContext db) =>
{

    var car = await db.Cars.FindAsync(id);

    return car is not null ? Results.Ok(car) : Results.NotFound();

})

.WithName("GetCarById")

.WithTags("Cars");

app.MapPost("/api/cars", async (Car car, ApplicationContext db) =>

{

    db.Cars.Add(car);

    await db.SaveChangesAsync();

    return Results.Created($"/api/cars/{car.Id}", car);

})

.WithName("CreateCar")

.WithTags("Cars");

app.MapPut("/api/cars/{id:int}", async (int id, Car input, ApplicationContext db) =>

{

    var car = await db.Cars.FindAsync(id);

    if (car is null) return Results.NotFound();

    // Обновляем поля

    car.Model = input.Model;

    car.Price = input.Price;

    car.ImageUrl = input.ImageUrl;

    car.Color = input.Color;

    car.Year = input.Year;

    await db.SaveChangesAsync();

    return Results.NoContent();

})

.WithName("UpdateCar")

.WithTags("Cars");

app.MapDelete("/api/cars/{id:int}", async (int id, ApplicationContext db) =>

{

    var car = await db.Cars.FindAsync(id);

    if (car is null) return Results.NotFound();

    db.Cars.Remove(car);

    await db.SaveChangesAsync();

    return Results.NoContent();

})

.WithName("DeleteCar")

.WithTags("Cars");

app.Run();
```