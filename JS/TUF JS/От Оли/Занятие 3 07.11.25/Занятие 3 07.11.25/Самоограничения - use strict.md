более строгий режим
![[Pasted image 20251107185136.png]]
this в глобальном - окно, в ф-циональном уже не окно
![[Pasted image 20251107185301.png]]

по умолчанию - не строгий

`"use strict";` — это специальная директива в JavaScript, которая включает "строгий режим" (strict mode).

Этот режим **не вводит новый синтаксис**, а **изменяет семантику (поведение) существующего**. Его главная цель — сделать код более безопасным, надежным и явным, превращая "тихие" ошибки (которые JS молча игнорировал) в явные, "громкие" ошибки (которые останавливают выполнение и выводятся в консоль).

---

### Как его использовать

Директиву нужно поместить в самое начало кода (перед любыми другими инструкциями).

1. **В начале всего скрипта (файла .js):**
 
    ```JavaScript
    "use strict";
    // Весь код в этом файле будет в строгом режиме
    var x = 10;
    ```
    
2. **В начале тела функции:**
 
    ```JavaScript
    function myStrictFunction() {
      "use strict";
      // Только код внутри этой функции будет в строгом режиме
      var y = 20;
    }
    ```
    

> **Важно:** В современном JavaScript, если вы используете `class` или ES-модули (то есть синтаксис `import`/`export`), строгий режим **включен автоматически** для всего кода в этих модулях или классах, и директива `"use strict";` уже не требуется.

---

### Ключевые "самоограничения" (Примеры)

Вот основные изменения, которые вводит `use strict`:

**1. Запрет на неявное создание глобальных переменных**

- **Обычный режим:** `x = 10;` (Если `x` не объявлена, она создается в глобальном объекте `window` или `global`).
    
- **Строгий режим:** `x = 10;` (Вызовет ошибку `ReferenceError`, так как `x` не объявлена через `var`, `let` или `const`).
    

**2. Запрет на "тихие" ошибки при присваивании**

- **Обычный режим:** `Object.defineProperty(obj, "prop", { value: 5, writable: false }); obj.prop = 10;` (Присваивание просто молча не сработает).
    
- **Строгий режим:** `... obj.prop = 10;` (Вызовет ошибку `TypeError`, так как свойство не-записываемое).
    

**3. Запрет на удаление переменных и неудаляемых свойств**

- **Обычный режим:** `var y = 5; delete y;` (Не сработает, но ошибки не будет).
    
- **Строгий режим:** `var y = 5; delete y;` (Вызовет ошибку `SyntaxError`).
    

**4. Запрет на дублирование имен параметров функции**

- **Обычный режим:** `function foo(a, a) { console.log(a); }` (Разрешено, используется второе `a`).
    
- **Строгий режим:** `function foo(a, a) {}` (Вызовет ошибку `SyntaxError`).
    

**5. Безопасное значение `this`**

- **Обычный режим:** В функции, вызванной без контекста (например, `myFunc()`), `this` ссылается на глобальный объект (`window`).
    
- **Строгий режим:** В такой функции `this` равен `undefined`. Это предотвращает случайное "загрязнение" глобальной области.
    

**6. Запрет на оператор `with`**

- Оператор `with` полностью запрещен, так как он усложняет оптимизацию кода и делает его менее предсказуемым.
    

### Итог

Использование `"use strict";` (особенно в старом коде, не использующем модули) — это критически важная практика, которая помогает отлавливать распространенные ошибки на ранней стадии и повышает общее качество и надежность кода.