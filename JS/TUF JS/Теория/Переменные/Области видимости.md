![[Pasted image 20251106183455.png]]

Ваша схема очень хорошо показывает, как JavaScript теперь организует глобальные переменные. Глобальное "окружение" (Global Lexical Environment) разделено на две части:

1. **`Object Environment Record` (Объектное окружение)**
    
    - Это и есть "старый" глобальный объект.
        
    - На схеме он обозначен как `globalThis (window)`, что говорит нам: "Мы в браузере, и наш `globalThis` — это `window`".
        
    - Сюда попадают **все старые объявления**:
        
        - `var a`
            
        - `function f() {}` (Function Declaration)
            
        - А также все встроенные в браузер функции, такие как `setTimeout` и `console`.
            
    - **Ключевой момент:** Все, что здесь находится, становится _свойством_ глобального объекта. Вы можете написать `window.a` или `globalThis.console`.
        
2. **`Declarative Environment Record` (Декларативное окружение)**
    
    - Это **новое**, отдельное хранилище, которое существует _рядом_ с `globalThis`.
        
    - Сюда попадают **все новые объявления**:
        
        - `let x`
            
        - `const y`
            
        - `class MyClass`
            
    - **Ключевой момент:** Эти переменные _тоже глобальные_, но они **не становятся свойствами** `globalThis` (`window`). Вы не можете написать `window.x` (это будет `undefined`).
        

**Если коротко:** `globalThis` — это просто `window` (в вашем случае). А вся схема показывает, что `let`/`const` теперь "живут" отдельно от `var`/`function`, хотя все они находятся в глобальной области видимости.